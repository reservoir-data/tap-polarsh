{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",

  // https://docs.renovatebot.com/configuration-options/#extends
  "extends": [
    // https://docs.renovatebot.com/presets-config/#configbase
    "config:recommended",

    // https://docs.renovatebot.com/presets-default/#enableprecommit
    ":enablePreCommit",

    // https://docs.renovatebot.com/presets-default/#prhourlylimitnone
    ":prHourlyLimitNone",

    // https://docs.renovatebot.com/presets-default/#rebasestaleprs
    ":rebaseStalePrs",

    // https://docs.renovatebot.com/presets-customManagers/#custommanagersgithubactionsversions
    "customManagers:githubActionsVersions"
  ],

  // https://docs.renovatebot.com/configuration-options/#ignorepresets
  "ignorePresets": [
    // https://docs.renovatebot.com/presets-default/#ignoremodulesandtests
    // By default, some directories, including "tests", are ignored. Since we do want Renovate to pick up dependencies
    // in "tests" directory, we explicitly opt out from this preset.
    ":ignoreModulesAndTests"
  ],

  // https://docs.renovatebot.com/configuration-options/#labels
  "labels": ["dependencies"],

  // https://docs.renovatebot.com/configuration-options/#schedule
  "schedule": ["before 5am on saturday"],

  // https://docs.renovatebot.com/configuration-options/#platformautomerge
  "platformAutomerge": true,

  // https://docs.renovatebot.com/configuration-options/#lockfilemaintenance
  "lockFileMaintenance": {
    "enabled": true,
    "schedule": ["before 5am on saturday"]
  },

  // https://docs.renovatebot.com/modules/manager/copier
  "copier": {
    "enabled": false
  },

  "customManagers": [
    {
      "customType": "regex",
      "fileMatch": ["scripts/update_openapi.py"],
      "matchStrings": [
        "# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)"
      ]
    }
  ],

  // https://docs.renovatebot.com/configuration-options/#packagerules
  "packageRules": [
    {
      "matchPackageNames": ["uv", "astral-sh/uv-pre-commit"],
      "groupName": "uv-version"
    },
    {
      "matchPackageNames": ["tox", "tox-uv"],
      "groupName": "tox-version"
    }
  ]
}
